---
title: 캡스락 키로 한영 전환 하기
date: 2018-01-01 14:51:16
tags:
- development environments
keywords:
- change input method
- shortcuts
- karabiner
description: 지금은 SHIFT+SPACE BAR 를 사용합니다.
readingTime: true
author: soomtong
---

> 2022년 기준 맥OS 와 구름입력기에서 다양한 방식의 한/영 전환 기능을 지원하고 있습니다. 2018년 기록임을 참고해주세요.

## 캡스락 키로 한영 전환 하기

내가 사용하는 한글 자판은 세벌식 중에서도 신세벌P2 이라고 불리는 팥알님의 신세벌 최근 자판을 사용하고 있다. 맥에서도 그렇고 리눅스 데스크탑에서도 그렇고 신세벌P2를 사용할 수 있어 매우 행복했다. (팥알님 감사합니다.)

지난 몇 달간 한/영 변경 키를 캡스락으로 바꾸고 손가락이 더 편해졌는데 (이는 근래 MacOS 의 한글입력기에 한/영 변환을 캡스락을 통해 작동시킬 수 있게 된 후부터 리눅스에서도 캡스락을 통해 변환하는 방법을 찾아 그렇게 하고 있다.) 정작 집에서 사용하는 맥에서는 여전히 쉬프트+스페이스 키를 통해 한영 입력을 변환하고 있었다.

그래서 나는 나만의 입력기를 만들려고 몇 달간 조금씩 입력기를 만들 계획을 가지고 있는데 캡스락으로 입력기를 전환하는 기능을 어떻게 구현할까 고민하다 보니 앞길이 매우 막막해지는 것을 느꼈다. OSX 개발자가 아니기 때문에 뭘 어떻게 해야 하는지 생각은 있지만 실제 어떻게 구현해야 하는지는 삽질 뿐이었다.

### 카라바이너

그러던 중 카라바이너를 다시 생각하게 되었다. 다행히 최근 버전의 카라바이너-엘리먼트에서는 캡스락을 바인딩하는 기능이 있었고 (이 소스 코드를 참고하면 나중에 진짜 개발할 때 도움이 될 수도 있겠다.) 정말 단순한 방법으로 한/영 변환 키를 캡스락 키에 지정하는게 가능했다.

세팅하다가 알게된건데 카라바이너의 세팅 값은 시스템 프레퍼런스의 키보드 세팅 값보다 우선하는 것 같다. 변경된 모디파이어 키 조합을 카라바이너 세팅이 오버라이드하고 있었다. 그래서 모디파이어 키 조합은 초기 상태로 복원하고 세팅을 시작했다.

![rollback-modifier](/images/rollback-modifier.png)

또한 한영 입력 모드 변환의 딜레이를 유발하는 `이전 입력기 선택` 대신 `다음 입력기 선택` 만 사용해 한/영 입력을 변환하게 하였다. (요즘도 그런지는 모르겠다만 예전엔 그랬다. 이전 입력으로 변경하는 키는 키 입력이 시작될 때-Key down 변하는 것이 아니라 키 입력이 끝나면-Key up 변하도록 되어 있었다.)

![change-method-key](/images/change-method-key.png)

아무튼 F18 키에 다음 입력기 전환 키를 할당하고 이 키를 캡스락 키로 바인딩하였다. (참고로 여기에서 F20 키를 사용할 수 없었다.)

최종 세팅은 다음과 같다.

![karabiner-vamilo](/images/karabiner-vamilo.png)

어짜피 구름입력기의 쉬프트+스페이스 키가 한영키로 작동하고 있기 때문에 리눅스 데스크탑에서와 마찬가지로 캡스락 키 그리고 쉬프트+스페이스 키를 통해서 한영 입력을 전환하게 되었다. 그리고 캡스락 기능은 스페이스 바 우측의 키 아니면 가장 우측에 있는 컨트롤 키로 사용하고 있다.

![input-source](/images/input-source.png)

한글 입력기 개발의 목표가 남아있기는 하지만 당분간 스트레스 없이 타이핑을 할 수 있게 되어 매우 좋았다. 캡스락 한/영 전환이 너무 마음에 들어 세벌식 최종으로 다시 돌아가야 하나 매우 근심하던 며칠이었다. 다행이다!
